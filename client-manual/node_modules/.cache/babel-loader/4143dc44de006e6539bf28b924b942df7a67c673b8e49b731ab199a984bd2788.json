{"ast":null,"code":"import { io } from 'socket.io-client';\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\nclass SocketService {\n  constructor() {\n    this.socket = null;\n  }\n  connect(userId) {\n    this.socket = io(SOCKET_URL, {\n      transports: ['websocket'],\n      autoConnect: true\n    });\n    this.socket.on('connect', () => {\n      console.log('Socket connected');\n      this.socket.emit('authenticate', userId);\n    });\n    this.socket.on('disconnect', () => {\n      console.log('Socket disconnected');\n    });\n    this.socket.on('connect_error', error => {\n      console.error('Socket connection error:', error);\n    });\n    return this.socket;\n  }\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n  emit(event, data) {\n    if (this.socket) {\n      this.socket.emit(event, data);\n    }\n  }\n  on(event, callback) {\n    if (this.socket) {\n      this.socket.on(event, callback);\n    }\n  }\n  off(event, callback) {\n    if (this.socket) {\n      this.socket.off(event, callback);\n    }\n  }\n  joinRoom(roomId) {\n    this.emit('join_room', roomId);\n  }\n  leaveRoom(roomId) {\n    this.emit('leave_room', roomId);\n  }\n  sendMessage(data) {\n    this.emit('send_message', data);\n  }\n  typing(data) {\n    this.emit('typing', data);\n  }\n  stopTyping(data) {\n    this.emit('stop_typing', data);\n  }\n}\nexport default new SocketService();","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","SocketService","constructor","socket","connect","userId","transports","autoConnect","on","console","log","emit","error","disconnect","event","data","callback","off","joinRoom","roomId","leaveRoom","sendMessage","typing","stopTyping"],"sources":["D:/RealTimeChat/client-manual/src/utils/socket.js"],"sourcesContent":["import { io } from 'socket.io-client';\r\n\r\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\r\n\r\nclass SocketService {\r\n  constructor() {\r\n    this.socket = null;\r\n  }\r\n\r\n  connect(userId) {\r\n    this.socket = io(SOCKET_URL, {\r\n      transports: ['websocket'],\r\n      autoConnect: true\r\n    });\r\n\r\n    this.socket.on('connect', () => {\r\n      console.log('Socket connected');\r\n      this.socket.emit('authenticate', userId);\r\n    });\r\n\r\n    this.socket.on('disconnect', () => {\r\n      console.log('Socket disconnected');\r\n    });\r\n\r\n    this.socket.on('connect_error', (error) => {\r\n      console.error('Socket connection error:', error);\r\n    });\r\n\r\n    return this.socket;\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socket) {\r\n      this.socket.disconnect();\r\n      this.socket = null;\r\n    }\r\n  }\r\n\r\n  emit(event, data) {\r\n    if (this.socket) {\r\n      this.socket.emit(event, data);\r\n    }\r\n  }\r\n\r\n  on(event, callback) {\r\n    if (this.socket) {\r\n      this.socket.on(event, callback);\r\n    }\r\n  }\r\n\r\n  off(event, callback) {\r\n    if (this.socket) {\r\n      this.socket.off(event, callback);\r\n    }\r\n  }\r\n\r\n  joinRoom(roomId) {\r\n    this.emit('join_room', roomId);\r\n  }\r\n\r\n  leaveRoom(roomId) {\r\n    this.emit('leave_room', roomId);\r\n  }\r\n\r\n  sendMessage(data) {\r\n    this.emit('send_message', data);\r\n  }\r\n\r\n  typing(data) {\r\n    this.emit('typing', data);\r\n  }\r\n\r\n  stopTyping(data) {\r\n    this.emit('stop_typing', data);\r\n  }\r\n}\r\n\r\nexport default new SocketService();\r\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;AAE9E,MAAMC,aAAa,CAAC;EAClBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,MAAM,GAAG,IAAI;EACpB;EAEAC,OAAOA,CAACC,MAAM,EAAE;IACd,IAAI,CAACF,MAAM,GAAGP,EAAE,CAACC,UAAU,EAAE;MAC3BS,UAAU,EAAE,CAAC,WAAW,CAAC;MACzBC,WAAW,EAAE;IACf,CAAC,CAAC;IAEF,IAAI,CAACJ,MAAM,CAACK,EAAE,CAAC,SAAS,EAAE,MAAM;MAC9BC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B,IAAI,CAACP,MAAM,CAACQ,IAAI,CAAC,cAAc,EAAEN,MAAM,CAAC;IAC1C,CAAC,CAAC;IAEF,IAAI,CAACF,MAAM,CAACK,EAAE,CAAC,YAAY,EAAE,MAAM;MACjCC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACpC,CAAC,CAAC;IAEF,IAAI,CAACP,MAAM,CAACK,EAAE,CAAC,eAAe,EAAGI,KAAK,IAAK;MACzCH,OAAO,CAACG,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,CAAC;IAEF,OAAO,IAAI,CAACT,MAAM;EACpB;EAEAU,UAAUA,CAAA,EAAG;IACX,IAAI,IAAI,CAACV,MAAM,EAAE;MACf,IAAI,CAACA,MAAM,CAACU,UAAU,CAAC,CAAC;MACxB,IAAI,CAACV,MAAM,GAAG,IAAI;IACpB;EACF;EAEAQ,IAAIA,CAACG,KAAK,EAAEC,IAAI,EAAE;IAChB,IAAI,IAAI,CAACZ,MAAM,EAAE;MACf,IAAI,CAACA,MAAM,CAACQ,IAAI,CAACG,KAAK,EAAEC,IAAI,CAAC;IAC/B;EACF;EAEAP,EAAEA,CAACM,KAAK,EAAEE,QAAQ,EAAE;IAClB,IAAI,IAAI,CAACb,MAAM,EAAE;MACf,IAAI,CAACA,MAAM,CAACK,EAAE,CAACM,KAAK,EAAEE,QAAQ,CAAC;IACjC;EACF;EAEAC,GAAGA,CAACH,KAAK,EAAEE,QAAQ,EAAE;IACnB,IAAI,IAAI,CAACb,MAAM,EAAE;MACf,IAAI,CAACA,MAAM,CAACc,GAAG,CAACH,KAAK,EAAEE,QAAQ,CAAC;IAClC;EACF;EAEAE,QAAQA,CAACC,MAAM,EAAE;IACf,IAAI,CAACR,IAAI,CAAC,WAAW,EAAEQ,MAAM,CAAC;EAChC;EAEAC,SAASA,CAACD,MAAM,EAAE;IAChB,IAAI,CAACR,IAAI,CAAC,YAAY,EAAEQ,MAAM,CAAC;EACjC;EAEAE,WAAWA,CAACN,IAAI,EAAE;IAChB,IAAI,CAACJ,IAAI,CAAC,cAAc,EAAEI,IAAI,CAAC;EACjC;EAEAO,MAAMA,CAACP,IAAI,EAAE;IACX,IAAI,CAACJ,IAAI,CAAC,QAAQ,EAAEI,IAAI,CAAC;EAC3B;EAEAQ,UAAUA,CAACR,IAAI,EAAE;IACf,IAAI,CAACJ,IAAI,CAAC,aAAa,EAAEI,IAAI,CAAC;EAChC;AACF;AAEA,eAAe,IAAId,aAAa,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}